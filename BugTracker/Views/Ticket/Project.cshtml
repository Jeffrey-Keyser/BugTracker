
@{
    ViewData["Title"] = "Project";
}

@model IEnumerable<BugTracker.Models.Tickets>;

<h1>Project </h1>

<div>
    @if (Model != null)
    {
    <table class="table table-striped border">
        <tr class="table-secondary">
            <td>
                <p> Ticket Name </p>
            </td>
            <td>
                <p> Ticket Description </p>
            </td>
            <td>
            </td>
        </tr>

        @foreach (var item in Model)
        {
            // TODO: Should switch this to use TicketList in Project Model
            if (item.userId == ViewBag.userId && item.ProjectId == ViewBag.ProjectId)
            {
    <tr>
        <td>
            @Html.ActionLink(item.TicketName, "Ticket", new { id = item.TicketId })
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.TicketDesc)
        </td>
    </tr>
            }
        }

    </table>
        }
        else
        {
        <p> NULL </p>
        }

    </div>

<div>
    @Html.ActionLink("Create New Ticket", "Create", new { id = ViewBag.ProjectId })
</div>